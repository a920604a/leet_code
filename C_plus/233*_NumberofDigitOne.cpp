class Solution
{
public:
    int countDigitOne(int n)
    {
        //  n= 13 , 1, 10, 11, 12, 13. => 6個1
        // option 1
        // time out
        // int count = 0;
        // for(int i=1;i<=n ;++i){
        //     int a = i;
        //     while(a){
        //         if(a%10 ==1) count++;
        //         a /=10;
        //     }
        // }
        // return count;

        // 觀察法
        // [1,9] => 1
        // [10,19] => 11
        // [20,29] => 1
        // [30,39] => 1
        // [40,49] => 1
        // [50,59] => 1
        // [60,69] => 1
        // [70,79] => 1
        // [80,89] => 1
        // [90,99] => 1
        // [100,109] => 11
        // [110, 119] => 21
        // [120,129] => 11

        // [0,99] = 20
        // [100,199] = 120 ，120 = 100  +20因為100~199每個數字都是 1 開頭
        int ret = 0, a = 1, b = 1;
        while (n > 0)
        {
            ret += (n + 8) / 10 * a + (n % 10 == 1) * b;
            b += n % 10 * a;
            a *= 10;
            n /= 10;
        }
        return ret;
    }
};